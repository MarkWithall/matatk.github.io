!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var l,s=e[Symbol.iterator]();!(n=(l=s.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}!function(e,t){var r=Array.from(t.getElementsByClassName("slide")),o=null,i=e.location.pathname+".mode",l=e.location.pathname+".slides-intro-shown",s=t.getElementById("storyslides-main-content"),a=t.getElementById("storyslides-dialog-intro"),d=t.getElementById("storyslides-dialog-keys"),c=null,u=null,y=!1,f=!1,m=function(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.console).warn.apply(t,["StorySlides:"].concat(n))},v=function(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.console).error.apply(t,["StorySlides:"].concat(n))},g=function(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.console).debug.apply(t,["StorySlides:"].concat(n))};function b(e,t){return""===e.dataset[t]}function h(e){if("slides"===e||"story"===e)return e;throw new Error("Mode '".concat(e,"' isn't valid"))}function p(){var t=e.sessionStorage.getItem(i);return null!==t&&h(t),t}function E(t){e.sessionStorage.setItem(i,h(t))}function w(n,i,l){if(n<0||n>r.length-1)v("Slide index ".concat(n," is out of bounds."));else{switch(null!==o&&r[o].classList.remove("active"),r[n].classList.add("active"),0===n?t.body.classList.add("first-slide"):0===o&&t.body.classList.remove("first-slide"),p()){case"slides":var s=(c=r[n],u=c.scrollWidth-c.clientWidth,m=c.scrollHeight-c.clientHeight,u>0||m>0?{horizontal:u>0?u:0,vertical:m>0?m:0}:null);s&&(e.alert("Slide ".concat(n+1," is overflowing by; ").concat(JSON.stringify(s,null,2))),v("Slide is overflowing:",r[n],"by:",s));break;case"story":if(!l&&n>0){y=!0,r[n].setAttribute("tabindex",-1),r[n].focus(),r[n].removeAttribute("tabindex"),r[n].scrollIntoView(!0);var a=r[n].getBoundingClientRect().top,d=window.innerHeight/8;a<d&&e.scrollBy(0,-d)}}var c,u,m;o=n,function(){var e=t.querySelector("#storyslides-progress > div");if(e){var n=(o+1)/r.length*100;e.style.width="".concat(Math.round(n),"%")}}(),i||(f=!0),e.location.hash="#slide-".concat(o+1)}}function S(){if(f)f=!1;else{if(e.location.hash){var t=e.location.hash.match(/^#slide-(\d+)$/);if(t){var n=Number(t[1])-1;if(n>-1&&n<r.length)return void w(n,!0,null)}}w(0,!1,null)}}function x(r,n){if(n||p()!==r){switch(screenfull.enabled&&screenfull.exit(),B(!0),r){case"story":A("story"),function(){var e=!0,r=!1,n=void 0;try{for(var o,i=t.querySelectorAll("[style]")[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var l=o.value;l.id&&l.id.startsWith("dialog-")||(l.dataset.originalStyle=l.getAttribute("style"),l.removeAttribute("style"))}}catch(e){r=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(r)throw n}}}(),t.removeEventListener("keydown",j),t.addEventListener("keydown",H),t.addEventListener("scroll",z),t.getElementById("storyslides-slides-container").removeAttribute("aria-live"),t.getElementById("storyslides-button-mode-toggle").innerText="Switch to slides mode",t.getElementById("storyslides-button-mode-toggle").setAttribute("aria-describedby","storyslides-mode-slides-explainer"),t.getElementById("storyslides-button-mode-toggle").onclick=function(){return x("slides")},k(),e.removeEventListener("resize",K),E("story");break;case"slides":case null:A("slides"),function(){var e=!0,r=!1,n=void 0;try{for(var o,i=t.querySelectorAll("[data-original-style]")[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var l=o.value;l.setAttribute("style",l.dataset.originalStyle),l.removeAttribute("data-original-style")}}catch(e){r=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(r)throw n}}}(),t.removeEventListener("keydown",H),t.addEventListener("keydown",j),t.removeEventListener("scroll",z),t.getElementById("storyslides-slides-container").setAttribute("aria-live","polite"),t.getElementById("storyslides-button-mode-toggle").innerText="Switch to story mode",t.getElementById("storyslides-button-mode-toggle").setAttribute("aria-describedby","storyslides-mode-story-explainer"),t.getElementById("storyslides-button-mode-toggle").onclick=function(){return x("story")},I(),K(),e.addEventListener("resize",K),E("slides"),e.sessionStorage.getItem(l)||(P(a),e.sessionStorage.setItem(l,!0))}S()}else v("Already in ".concat(r," mode; not switching."))}function A(e){h(e);var r="slides"===e?"story":"slides",n=!0,o=!1,i=void 0;try{for(var l,s=t.styleSheets[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){var a=l.value;a.href&&(a.href.includes("mode-".concat(e))&&(a.disabled=!1),a.href.includes("mode-".concat(r))&&(a.disabled=!0))}}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}}function k(){t.body.removeAttribute("role"),t.body.removeAttribute("aria-describedby"),t.body.removeAttribute("tabindex")}function I(){t.body.setAttribute("role","application"),t.body.setAttribute("aria-describedby","storyslides-screenreader-intro"),t.body.setAttribute("tabindex",0)}function B(e){var r=t.getElementById("storyslides-mobile-menu-toggle");e?r.setAttribute("aria-expanded","false"):r.setAttribute("aria-expanded","false"===r.getAttribute("aria-expanded")?"true":"false"),t.getElementById("storyslides-mobile-menu-content").classList.toggle("mobile-none",e)}function L(){if(c){var e=c;return C(c),e}}function P(e){L()!==e&&e.style.display&&(e.removeAttribute("style"),s.setAttribute("inert",""),k(),e.focus(),c=e)}function C(e){c?c===e?e.style.display||(e.style.display="none",s.removeAttribute("inert"),I(),t.body.focus(),c=null):v('trying to hide "'.concat(e.id,'" but "').concat(c.id,'" is open')):v("no open dialog")}function O(){w(o>0?o-1:r.length-1,!1,null)}function T(){var e;(!(e=r[o].querySelector("[data-storyslides-step]"))||(e.removeAttribute("data-storyslides-step"),0))&&w((o+1)%r.length,!1,null)}function M(){t.body.classList.contains("storyslides-slide-locked")?(I(),t.body.classList.remove("storyslides-slide-locked")):(L(),k(),t.body.classList.add("storyslides-slide-locked")),t.body.focus()}function q(){screenfull.enabled?screenfull.toggle():e.alert("fullscreen mode is not available")}function N(){return!t.body.classList.contains("storyslides-slide-locked")}function j(e){if(!e.isComposing&&229!==e.keyCode&&!e.ctrlKey&&!e.metaKey)switch(e.key){case"ArrowLeft":case"ArrowUp":case"PageUp":N()&&!c&&O();break;case"ArrowRight":case"ArrowDown":case"PageDown":N()&&!c&&T();break;case"f":N()&&q();break;case"s":N()&&(c&&C(c),x("story"));break;case"?":N()&&P(d);break;case"i":N()&&P(a);break;case"l":N()&&M();break;case"Escape":N()?c&&C(c):M()}}function H(e){e.isComposing||229===e.keyCode||"Escape"===e.key&&x("slides")}function _(){y?y=!1:w(function(e){for(var t=e;!r.includes(t);)t=t.parentElement;return r.indexOf(t)}(t.elementFromPoint(e.innerWidth/2,e.innerHeight/3)),!1,!0)}function z(e){clearTimeout(u),u=setTimeout(function(){return _()},250)}function W(t){var r=!0,n=!1,o=void 0;try{for(var i,l=t.childNodes[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var s=i.value;if(s.nodeType===e.Node.COMMENT_NODE)return s.textContent}}catch(e){n=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}}function D(){try{var e=!0,r=!1,n=void 0;try{for(var o,i=t.querySelectorAll("[data-markdown]")[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var l=o.value,s=(a=W(l),d=void 0,c=void 0,d=a.match(/^\n(\s*)\S/)[1],c=RegExp("\n("+d+")","g"),a.replace(c,"\n").trim());l.innerHTML=marked(s)}}catch(e){r=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(r)throw n}}}catch(e){throw e}var a,d,c;return!0}function R(){var e=t.querySelectorAll("[data-split]"),r=!0,n=!0,o=!1,i=void 0;try{for(var l,s=e[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){var a=l.value,d=Array.from(a.children),c=d.filter(function(e){return!e.classList.contains("story")}).length,u=b(a,"split")?[]:a.dataset.split.split(" ");if(u.length>0)F(u,c,a)||(r=!1);V(a,u,d)}}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}function V(e,r,n){var o=["top","middle","bottom"],i=0,l=!0,s=!1,a=void 0;try{for(var d,c=n[Symbol.iterator]();!(l=(d=c.next()).done);l=!0){var u=d.value;if(u.classList.contains("story"))e.appendChild(u);else{var y=i+1,f=t.createElement("div");f.classList.add("part-".concat(y));var m=y%2?"odd":"even";f.classList.add("part-"+m),f.appendChild(u),r.length>0&&(f.style.flexBasis=r[i]);for(var v=0,g=o;v<g.length;v++){var b=g[v];e.classList.contains(b)&&f.classList.add(b)}e.appendChild(f),i++}}}catch(e){s=!0,a=e}finally{try{l||null==c.return||c.return()}finally{if(s)throw a}}}function F(e,t,r){e.length!==t&&v("Mismatched percentages for split container:",r);var n=e.reduce(function(e,t){return e+Number(t.slice(0,-1))},0);100!==n&&v("Percentages add up to ".concat(n," for split container:"),r)}function K(){var r=t.documentElement.clientWidth,n=t.documentElement.clientHeight,o=r/n,i=e.getComputedStyle(t.documentElement).getPropertyValue("--author-aspect-ratio").match(/calc\(\s*(\d+)\s*\/\s*(\d+)\s*\)/),l=i[1]/i[2],s=null,a=null;o>=l?(s=n,a=n*l):(a=r,s=r/l),t.documentElement.style.setProperty("--computed-slide-height",s+"px"),t.documentElement.style.setProperty("--computed-slide-width",a+"px");var d=(e.innerHeight-s)/2,c=(e.innerWidth-a)/2;t.documentElement.style.setProperty("--computed-vertical-margin",(d>0?d:0)+"px"),t.documentElement.style.setProperty("--computed-horizontal-margin",(c>0?c:0)+"px");var u=s*(e.getComputedStyle(t.documentElement).getPropertyValue("--author-font-height-percent-of-slide")/100);t.documentElement.style.setProperty("--computed-base-font-size",u+"px")}function U(){var e=Array.from(t.querySelectorAll("[id]")),r=e.map(function(e){return e.id}),o=!0,i=!1,l=void 0;try{for(var s,a=r.entries()[Symbol.iterator]();!(o=(s=a.next()).done);o=!0){var d=n(s.value,2),c=d[0],u=d[1],y=r.indexOf(u);if(y!==c)return v('Duplicate occurence of id "'.concat(u,'":'),e[c],"First occurence was:",e[y]),!1}}catch(e){i=!0,l=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw l}}return!0}function J(){var e=!0,r=Object.freeze({"storyslides-main-content":v,"storyslides-mobile-menu-toggle":v,"storyslides-mobile-menu-content":v,"storyslides-button-mode-toggle":v,"storyslides-button-fullscreen":v,"storyslides-button-help-intro":v,"storyslides-button-help-keys":v,"storyslides-mode-story-explainer":v,"storyslides-mode-slides-explainer-container":v,"storyslides-mode-slides-explainer":v,"storyslides-button-previous":v,"storyslides-button-next":v,"storyslides-slides-container":v,"storyslides-progress":m,"storyslides-help-info":v,"storyslides-screenreader-intro":v,"storyslides-lock-indicator":v,"storyslides-dialog-intro":v,"storyslides-dialog-intro-title":v,"storyslides-dialog-keys":v,"storyslides-dialog-keys-title":v});for(var n in r){t.getElementById(n)||(r[n]('missing element with id "'.concat(n,'"')),e=!1)}return e}e.addEventListener("load",function(){var n,o;if(g("starting up"),e.history.scrollRestoration="manual",[U(),J(),(n=t.getElementById("storyslides-slides-container"),o="The number of children of the slides container isn't the same as the number of slides. This could be due to putting story mode content outside of slides, having some slides outside of the slides contianer, or having other non-slide elements inside the container.",r.length===n.children.length||(e.alert(o),v(o),!1)),D(),R()].every(Boolean)){!function(){for(var e=0,t=r;e<t.length;e++){var n=t[e],o=b(n,"pause")?[n]:n.querySelectorAll("[data-pause]"),i=!0,l=!1,s=void 0;try{for(var a,d=o[Symbol.iterator]();!(i=(a=d.next()).done);i=!0){var c=a.value,u=!0,y=!1,f=void 0;try{for(var m,v=c.children[Symbol.iterator]();!(u=(m=v.next()).done);u=!0){var g=m.value;g.classList.contains("story")||g.setAttribute("data-storyslides-step","")}}catch(e){y=!0,f=e}finally{try{u||null==v.return||v.return()}finally{if(y)throw f}}}}catch(e){l=!0,s=e}finally{try{i||null==d.return||d.return()}finally{if(l)throw s}}}}(),t.getElementById("loading").remove(),screenfull.enabled?t.getElementById("storyslides-button-fullscreen").onclick=q:t.getElementById("storyslides-button-fullscreen").remove(),t.getElementById("storyslides-button-help-intro").onclick=function(){P(a)},t.getElementById("storyslides-button-help-keys").onclick=function(){P(d)},t.getElementById("storyslides-button-previous").onclick=O,t.getElementById("storyslides-button-next").onclick=T;for(var i=0,l=[a,d];i<l.length;i++){l[i].querySelector("button.close").onclick=function(){C(this.parentNode)}}x(p(),!0),e.addEventListener("hashchange",S),t.getElementById("storyslides-mobile-menu-toggle").onclick=function(){B()},t.getElementById("storyslides-main-content").classList.remove("loading"),g("started")}else t.getElementById("loading").innerText="Error (check console)"})}(window,document)}]);